<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 1.01 Transitional//EN">
<%@ taglib prefix="s" uri="/struts-tags"%>
<%@ page contentType="text/html; charset=utf-8"%>
<%@ include file="/pages/commons/meta.jsp"%>
<%@ include file="/pages/commons/taglibs.jsp"%>
<%@page import="com.soc.model.user.User"%>
<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>

<%
	String path = request.getContextPath();
	String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";
%>
<html>
<head>
<%-- <script type="text/javascript" src="${ctx}/pushlet/ajax-pushlet-client.js"></script>--%>

<link href="${ctx}/styles/library.css" rel="stylesheet"
	type="text/css">
<link href="${ctx}/styles/jquery-ui.custom.css" rel="stylesheet"
	type="text/css"> 
	<%-- <link href="${ctx}/styles/jquery-ui-1.8.21.css" rel="stylesheet" type="text/css"> --%>
<link href="${ctx}/styles/jquery.popuplayer.css" rel="stylesheet"
	type="text/css">
<link href="${ctx}/stylesalidationEngine.jquery.css" rel="stylesheet"
	type="text/css">
<script type='text/javascript' src="${ctx}/scripts/jquery-1.7.2.min.js"></script>
<script type='text/javascript'
	src="${ctx}/scripts/jquery.validationEngine-en.js"></script>
<script type='text/javascript'
	src="${ctx}/scripts/jquery.validationEngine.js"></script>
<script type='text/javascript'
	src="${ctx}/scripts/jquery-ui.custom.min.js"></script>
<script type='text/javascript' src="${ctx}/scripts/util.js"></script>
<script type='text/javascript' src="${ctx}/scripts/popuplayer.js"></script>


<script language="javascript">
	function subData() {
			$("#vulnerabilityAttack1").val($("#vulnerabilityAttack").val());
			$("#vulnerabilityForm").submit();
	
		}
	
	function xiugai() {

		$('#dialog-loadBalancing').dialog('open');
	}

	$(document).ready(function() {

		// Dialog			
		$('#dialog-loadBalancing').dialog({
			autoOpen : false,
			width : 600,
			height : 400,
			buttons : {
				"确定[Enter]" : function a() {
					$(this).dialog("close");
				},

				"取消[Esc]" : function() {
					$(this).dialog("close");
				}
			}
		});
	});
</script>
</head>
<body>
	<s:form action="updateVulnerability.action" namespace="/vulnerability"
		method="post" theme="simple" id="vulnerabilityForm"
		name="vulnerabilityForm">
		
		<div class="framDiv1" style="width:99%">
			<s:hidden name="vulnerability.vulnerabilityId" id="vulnerabilityId" />
			<s:hidden name="vulnerability.vulnerabilityName"
				id="vulnerabilityName" />
			<s:hidden name="vulnerability.vulnerabilityUpdateDateTime"
				id="vulnerabilityUpdateDateTime" />
			<s:hidden name="vulnerability.vulnerabilityCvssMath"
				id="vulnerabilityCvssMath" />
			<s:hidden name="vulnerability.vulnerabilityCveID"
				id="vulnerabilityCveID" />
			<s:hidden name="vulnerability.vulnerabilityPluginPublicationDateTime"
				id="vulnerabilityPluginPublicationDateTime" />
			<s:hidden name="vulnerability.vulnerabilityPort"
				id="vulnerabilityPort" />
			<s:hidden name="vulnerability.vulnerabilityService"
				id="vulnerabilityService" />
			<s:hidden name="vulnerability.vulnerabilityAttack"
				id="vulnerabilityAttack1" />
			<s:hidden name="vulnerability.vulnerabilityUniqueIdentification"
				id="vulnerabilityUniqueIdentification" />

			<table width="100%" border="0" cellspacing="1" cellpadding="1">
				<!--  -->
				<tr>
					<td class='r2titler' colspan='2'><b>漏洞信息</b></td>
				</tr>
				<tr>
					<td height="3px"></td>
				</tr>
				<tr>
					<td>
						<!-- 漏洞信息内容 -->
						<table width="99%" border="0" cellspacing="0" cellpadding="0">
							<!-- 空行 -->
							<tr>
								<td></td>
							</tr>
							<tr>

								<td width="12%" align="right">漏洞编号：</td>
								<td width="38%" style="padding-left:8px;" align="left"><input
									type="text" size="40" style="width:90%"
									name="vulnerability.vulnerabilityUniqueIdentification"
									value="${vulnerability.vulnerabilityUniqueIdentification}"
									<c:if test="${vulnerability.vulnerabilityUniqueIdentification!=null}">disabled="true"</c:if> />
								</td>
								<td width="10%" align="right">类别：</td>
								<td width="40%" align="left" style="padding-left:8px;"><select
									class="select1" style="width:90%"
									name="vulnerability.vulnerabilityType"
									id="vulnerability.vulnerabilityType">
									<option>${vulnerability.vulnerabilityType}</option>
										<s:iterator value="listVulnerabilityType"   status="stuts">
										
											<option
												<%-- <c:if test="${vulnerabilityType ==vulnerabilityTypeName}">selected="selected"</c:if> --%>
												
												>
												<s:property /></</option>
										</s:iterator>

								</select></td>

							</tr>
							<!-- 空行 -->
							<tr>
								<td height="5px"></td>
							</tr>
							<tr>
								<td valign="top" align="right">摘要：</td>
								<td align="left" style="padding-left:8px;"><s:textarea
										name="vulnerability.vulnerabilitySynopsis"
										id="vulnerabilitySynopsis" cols="31" rows="3" cssStyle="width:90%"></s:textarea>
								</td>
								<td valign="top" align="right">描述：</td>
								<td rowspan="6" valign="top" align="left"
									style="padding-left:8px;"><s:textarea
										name="vulnerability.vulnerabilityMemo" id="vulnerabilityMemo"
										cols="31" rows="11" cssStyle="width:88%"></s:textarea>
								</td>
							</tr>
							<tr>
								<td height="5px"></td>
							</tr>
							<tr>
								<td valign="top" align="right">建议：</td>
								<td valign="top" align="left" style="padding-left:8px"><s:textarea
										name="vulnerability.vulnerabilitySolution"
										id="vulnerabilitySolution" cols="31" rows="3"
										cssStyle="width:90%"></s:textarea>
								</td>
							</tr>
							<!-- 空行 -->
							<tr>
								<td height="5px"></td>
							</tr>
							<tr>
								<td valign="top" align="right">参考：</td>
								<td valign="top" align="left" style="padding-left:8px"><s:textarea
										name="vulnerability.vulnerabilitySeeAlso"
										id="vulnerabilitySeeAlso" cols="31" rows="3"
										cssStyle="width:90%" onblur="checkVulnerabilitySeeAlso()"></s:textarea>
								</td>
							</tr>
							<!-- 空行 -->
							<tr>
								<td height="5px"></td>
							</tr>
							<tr>
								<td align="right">风险等级：</td>
								<td align="left" style="padding-left:8px;"><select
									class="select1" style="width:92%"
									name="vulnerability.vulnerabilityRiskFactor"
									id="vulnerability.vulnerabilityRiskFactor">
										<option value="High"
											<c:if test="${vulnerability.vulnerabilityRiskFactor =='High'}">selected="selected"</c:if>>
											High</option>
										<option value="Medium"
											<c:if test="${vulnerability.vulnerabilityRiskFactor =='Medium'}">selected="selected"</c:if>>
											Medium</option>
										<option value="Critical"
											<c:if test="${vulnerability.vulnerabilityRiskFactor =='Critical'}">selected="selected"</c:if>>
											Critical</option>
										<option value="None"
											<c:if test="${vulnerability.vulnerabilityRiskFactor =='None'}">selected="selected"</c:if>>
											None</option>
										<option value="Low"
											<c:if test="${vulnerability.vulnerabilityRiskFactor =='Low'}">selected="selected"</c:if>>
											Low</option>
								</select></td>
							</tr>
							<!-- 空行 -->
							<tr>
								<td height="10px"></td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>
		<table align="right">
			<tr>
				<td height="5px"></td>
			</tr>
			<tr>
				<td style="padding-right:3px"><input type="button"
					class="btnyh" id="btnSave" value="确  定" onclick="subData();" /> <input
					type="button" class="btnyh" id="btnCancel" value="取  消"
					onclick="window.location.href='${ctx}/vulnerability/query.action';" />

				</td>
			</tr>
		</table>
		<!-- ui-dialog -->
		<div id="dialog-loadBalancing" title="攻击脚本修改">
			<table width="90%" border="0" cellspacing="5" cellpadding="5"
				style="margin-left:20px;">
				<tr>
					<td><s:textarea name="vulnerability.vulnerabilityAttack"
							id="vulnerabilityAttack" cols="70" rows="17"
							cssStyle="width:500px"></s:textarea></td>
				</tr>
				<tr>
					<td></td>
					<td><span id="span_ip"></span>
					</td>
				</tr>
			</table>
		</div>
	</s:form>

</body>
</html>
